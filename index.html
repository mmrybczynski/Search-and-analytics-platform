<!DOCTYPE html>
<html lang="pl">
    <head>
        <meta charset="utf-8"/>
        <title>Analitycs platform</title>
        <link rel="stylesheet" href="style.css"/>
    </head>
    <body>
        <div class="container">
            <div class="left">
                <form id="myForm">
                    <label for="searchingName">Wprowadź dzukaną nazwę</label>
                    <input type="text" id="searchingName" name="searchingName"/>
                    <label for="fileToanalyze">Wybierz odpowiedni plik</label>
                    <input type="file" id="fileToanalyze" name="fileToanalyze"/>
                    <p>Dodatkowe ustawienia</p>
                    <input type="checkbox" id="sumowanie" name="sumowanie"/>
                    <label for="sumowanie">Sumowanie</label>
                    <input type="submit" value="Wyślij"/>
                </form>
            </div>
            <div class="right">
                <div id="result">

                </div>
            </div>
        </div>

        <script>
        
            function csvToTable(csvContent, searchName) {
                var rows = csvContent.split('\n').map(function(row) {
                    return row.split(',');
                });

                var table = document.createElement('table');
                var headers = rows.shift();

                if (searchName) {
                    rows = rows.filter(function(row) {
                        return row.includes(searchName);
                    });
                }

                var headerRow = table.insertRow();

                headers.forEach(function(header) {
                    var th = document.createElement('th');
                    th.textContent = header.trim();
                    headerRow.appendChild(th);
                });

                rows.forEach(function(cells) {
                    var row = table.insertRow();
                    cells.forEach(function(cell) {
                        var td = row.insertCell();
                        td.textContent = cell.trim();
                    });
                });

                return table;
            }
            document.getElementById('myForm').addEventListener('submit', function(e){
                console.log('Start');

                e.preventDefault();
                let result = document.getElementById('result');
                let name = document.getElementById('searchingName').value;
                let file = document.getElementById('fileToanalyze');
                let sumowanie = document.getElementById('sumowanie');

                console.log(name);
            });
        </script>
    </body>
</html>